{"version":3,"sources":["helpers/with.js"],"names":["define","utils","Exception","instance","registerHelper","context","options","arguments","length","isFunction","call","this","fn","isEmpty","inverse","data","ids","createFrame","contextPath","appendContextPath","blockParams"],"mappings":";;;;;;;AAAAA,QACI,WACA,gBACD,SAAUC,EAAOC,GAChB,aACA,OAAO,SAAUC,GACbA,EAASC,eAAe,OAAQ,SAAUC,EAASC,GAC/C,GAAwB,GAApBC,UAAUC,OACV,MAAM,IAAIN,EAAU,uCAEpBD,EAAMQ,WAAWJ,KACjBA,EAAUA,EAAQK,KAAKC,OAE3B,IAAIC,EAAKN,EAAQM,GACjB,GAAKX,EAAMY,QAAQR,GAWf,OAAOC,EAAQQ,QAAQH,MAXE,CACzB,IAAII,EAAOT,EAAQS,KAKnB,OAJIT,EAAQS,MAAQT,EAAQU,OACxBD,EAAOd,EAAMgB,YAAYX,EAAQS,OAC5BG,YAAcjB,EAAMkB,kBAAkBb,EAAQS,KAAKG,YAAaZ,EAAQU,IAAI,KAE9EJ,EAAGP,GACNU,KAAMA,EACNK,YAAanB,EAAMmB,aAAaf,IAAWU,GAAQA,EAAKG","file":"../../helpers/with.js","sourcesContent":["define([\n    '../utils',\n    '../exception'\n], function (utils, Exception) {\n    'use strict';\n    return function (instance) {\n        instance.registerHelper('with', function (context, options) {\n            if (arguments.length != 2) {\n                throw new Exception('#with requires exactly one argument');\n            }\n            if (utils.isFunction(context)) {\n                context = context.call(this);\n            }\n            let fn = options.fn;\n            if (!utils.isEmpty(context)) {\n                let data = options.data;\n                if (options.data && options.ids) {\n                    data = utils.createFrame(options.data);\n                    data.contextPath = utils.appendContextPath(options.data.contextPath, options.ids[0]);\n                }\n                return fn(context, {\n                    data: data,\n                    blockParams: utils.blockParams([context], [data && data.contextPath])\n                });\n            } else {\n                return options.inverse(this);\n            }\n        });\n    };\n});"]}